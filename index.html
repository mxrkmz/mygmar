<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>내 이름을 맞춰봐</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="container">
    <h1>내 이름을 맞춰봐 ~</h1>
    <div id="setupScreen">
      <p>플레이어를 선택해주세요</p>
      <button class="role-btn" data-role="0">플레이어 A</button>
      <button class="role-btn" data-role="1">플레이어 B</button>
      <button class="role-btn" data-role="2">플레이어 C</button>
    </div>
    <div id="nameScreen" style="display:none;">
      <p>이름을 입력해주세요</p>
      <input type="text" id="userName" placeholder="이름 입력(예:사쿠야)">
      <button id="saveNameBtn">확인</button>
    </div>
    <div id="wordScreen" style="display:none;">
      <h2 id="wordTitle"></h2>
      <input type="text" id="secretWord" placeholder="제시어 입력">
      <button id="saveWordBtn">제시어 저장</button>
    </div>
    <div id="gameScreen" style="display:none;">
      <div id="turnIndicator" style="padding:10px; margin-bottom:10px; background:#fff3cd; border:1px solid #ffeeba; font-weight:bold; text-align:center;">
        게임 준비 중...
      </div>

      <table style="width:100%; border-collapse:collapse; margin-bottom:10px; text-align:center; border:1px solid #ccc;">
        <tr id="headerRow" style="background:#eee;">
          <th id="h0" style="border:1px solid #ccc; padding:5px;">-</th>
          <th id="h1" style="border:1px solid #ccc; padding:5px;">-</th>
          <th id="h2" style="border:1px solid #ccc; padding:5px;">-</th>
        </tr>
        <tr>
          <td id="status0" style="border:1px solid #ccc; padding:5px;">-</td>
          <td id="status1" style="border:1px solid #ccc; padding:5px;">-</td>
          <td id="status2" style="border:1px solid #ccc; padding:5px;">-</td>
        </tr>
      </table>
      <div id="chatBox" style="height:250px; border:1px solid #ccc; overflow-y:auto; margin-bottom:10px; padding:10px; background:#fff;"></div>
      
      <div id="inputArea">
        <div style="margin-bottom:10px;">
          <input type="text" id="questionInput" placeholder="질문을 입력하세요" style="width:70%;">
          <button id="sendQuestionBtn" style="width:25%;">질문</button>
        </div>
        <div style="margin-bottom:10px;">
          <input type="text" id="answerInput" placeholder="내 정답 맞히기" style="width:70%;">
          <button id="sendAnswerBtn" style="width:25%;">정답확인</button>
        </div>
        <p style="font-size:11px; color:gray;">* 질문이나 정답 중 하나만 가능하며, 틀리면 순서가 넘어갑니다.</p>
      </div>

      <div style="margin-top:20px;">
        <p style="font-weight:bold; margin-bottom:5px;">🔍 나만의 추리 메모 (비공개)</p>
        <textarea id="memoArea" placeholder="정답을 추리해보세요..." style="width:100%; height:80px; padding:5px; box-sizing:border-box;"></textarea>
      </div>
      <div id="resetArea" style="margin-top:20px; padding:10px; background:#f9f9f9; border:1px dashed #bbb; text-align:center;">
        <p id="resetStatus" style="font-size:12px; margin-bottom:5px;">언제든 다시하기를 요청할 수 있습니다.</p>
        <button id="resetBtn">게임 다시하기</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
